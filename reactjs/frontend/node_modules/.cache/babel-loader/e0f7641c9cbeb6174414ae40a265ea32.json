{"ast":null,"code":"var _jsxFileName = \"/home/iiradia/EasyA/reactjs/frontend/src/components/Login/LoginPage.jsx\";\nimport React, { useState } from \"react\"; //import { Button, FormGroup, FormControl, FormLabel, FormText, FormCheck } from \"react-bootstrap\";\n\nimport \"./Login.css\";\nimport \"./static/images/icons/favicon.ico\";\nimport \"./static/vendor/bootstrap/css/bootstrap.min.css\";\nimport \"./static/fonts/font-awesome-4.7.0/css/font-awesome.min.css\";\nimport \"./static/fonts/Linearicons-Free-v1.0.0/icon-font.min.css\";\nimport \"./static/vendor/animate/animate.css\";\nimport \"./static/vendor/css-hamburgers/hamburgers.min.css\";\nimport \"./static/vendor/select2/select2.min.css\";\nimport \"./static/css/util.css\";\nimport \"./static/css/main.css\";\nimport GoogleLogin from 'react-google-login';\nimport { Button } from 'react-bootstrap';\nimport GoogleButton from 'react-google-button';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route, Link, Redirect, Switch, withRouter } from 'react-router-dom';\nimport Simplert from 'react-simplert';\nimport MainWelcome from '../Home/MainWelcome';\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.googleSuccess = this.googleSuccess.bind(this);\n    this.googleFailure = this.googleFailure.bind(this);\n    this.onPwdChange = this.onPwdChange.bind(this);\n    this.onEmailChange = this.onEmailChange.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.state = {\n      first_name: null,\n      last_name: null,\n      email: null,\n      password: null,\n      login_email: null\n    };\n  }\n\n  handleLogin(event) {\n    event.preventDefault();\n    let validInput = true;\n    let email = this.state.login_email;\n    let pwd = this.state.password;\n    {\n      /* Check for valid email */\n    }\n\n    if (!new RegExp(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i).test(email)) {\n      alert(\"Please enter a valid email address.\");\n      validInput = false;\n    }\n\n    if (validInput) {\n      console.log(this.state);\n      let url = \"http://localhost:5000/login\";\n      fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify({\n          email: email,\n          password: pwd\n        })\n      }).then(response => response.json()).then(data => {\n        {\n          /*Successfully logged in*/\n        }\n\n        if (data.success === true) {\n          {\n            /*this.props.liftStateUp({\n             first_name:data.first_name,\n             last_name:data.last_name\n            });*/\n          }\n          localStorage.setItem(data.token);\n          this.props.history.push({\n            pathname: \"/\"\n          });\n        } else {\n          //Handle error in login here.\n          alert(\"Email or password is incorrect.\");\n        }\n      });\n    }\n  }\n\n  onPwdChange(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  onEmailChange(event) {\n    this.setState({\n      login_email: event.target.value\n    });\n  }\n\n  googleSuccess(response) {\n    console.log(response);\n    const profile_obj = response.profileObj;\n    {\n      /* Save user data to state. */\n    }\n    this.setState({\n      first_name: profile_obj.givenName,\n      last_name: profile_obj.familyName,\n      email: profile_obj.email\n    });\n    console.log(this.state);\n    this.props.liftStateUp(this.state);\n    {\n      /* Route user back to homepage. */\n    }\n    this.props.history.push({\n      pathname: \"/\"\n    });\n  }\n\n  googleFailure(response) {\n    //console.log(response);\n    alert(\"Google Login failed. Please try again.\");\n    return ReactDOM.render( /*#__PURE__*/React.createElement(Simplert, {\n      showSimplert: true,\n      type: \"warning\",\n      title: \"Login Failed\",\n      message: \"Please attempt login again.\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }), document.getElementById(\"login-fail\"));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }\n    }, \"Login V11\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login-fail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"limiter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-login100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap-login100 p-l-50 p-r-50 p-t-77 p-b-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"login100-form validate-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"login100-form-title p-b-55\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }, \"Login to EasyA\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap-input100 validate-input m-b-16\",\n      \"data-validate\": \"Valid email is required: ex@abc.xyz\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"emailForm\",\n      className: \"input100\",\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"Email\",\n      onChange: this.onEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"focus-input100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"symbol-input100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"lnr lnr-envelope\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap-input100 validate-input m-b-16\",\n      \"data-validate\": \"Password is required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"pwdForm\",\n      className: \"input100\",\n      type: \"password\",\n      name: \"pass\",\n      placeholder: \"Password\",\n      onChange: this.onPwdChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"focus-input100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"symbol-input100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"lnr lnr-lock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contact100-form-checkbox m-l-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input-checkbox100\",\n      id: \"ckb1\",\n      type: \"checkbox\",\n      name: \"remember-me\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label-checkbox100\",\n      htmlFor: \"ckb1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }, \"Remember me\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-login100-form-btn p-t-25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleLogin,\n      className: \"login100-form-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"orLoginWith\",\n      className: \"text-center w-full p-t-42 p-b-22\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"txt1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }\n    }, \"Or login with\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"googleButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(GoogleLogin, {\n      id: \"googleButtonB\",\n      clientId: \"887022410797-hhdl5etksm3ob2m9fhhh05i9f81cond2.apps.googleusercontent.com\",\n      render: renderProps => /*#__PURE__*/React.createElement(GoogleButton, {\n        id: \"googlesignInbutton\",\n        type: \"light\",\n        onClick: renderProps.onClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 27\n        }\n      }),\n      buttonText: \"Login with Google\",\n      onSuccess: this.googleSuccess,\n      onFailure: this.googleFailure,\n      cookiePolicy: 'single_host_origin',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center w-full p-t-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      id: \"notamember\",\n      className: \"txt1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 21\n      }\n    }, \"Not a member?\"), /*#__PURE__*/React.createElement(\"a\", {\n      id: \"signUpNow\",\n      className: \"txt1 bo1 hov1\",\n      href: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }\n    }, \"Sign up now\"))))))));\n  }\n\n}\n\nexport default withRouter(LoginPage);","map":{"version":3,"sources":["/home/iiradia/EasyA/reactjs/frontend/src/components/Login/LoginPage.jsx"],"names":["React","useState","GoogleLogin","Button","GoogleButton","ReactDOM","BrowserRouter","Router","Route","Link","Redirect","Switch","withRouter","Simplert","MainWelcome","LoginPage","Component","constructor","props","googleSuccess","bind","googleFailure","onPwdChange","onEmailChange","handleLogin","state","first_name","last_name","email","password","login_email","event","preventDefault","validInput","pwd","RegExp","test","alert","console","log","url","fetch","method","body","JSON","stringify","then","response","json","data","success","localStorage","setItem","token","history","push","pathname","setState","target","value","profile_obj","profileObj","givenName","familyName","liftStateUp","render","document","getElementById","renderProps","onClick"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n//import { Button, FormGroup, FormControl, FormLabel, FormText, FormCheck } from \"react-bootstrap\";\nimport \"./Login.css\";\nimport \"./static/images/icons/favicon.ico\";\nimport \"./static/vendor/bootstrap/css/bootstrap.min.css\";\nimport \"./static/fonts/font-awesome-4.7.0/css/font-awesome.min.css\";\nimport \"./static/fonts/Linearicons-Free-v1.0.0/icon-font.min.css\";\nimport \"./static/vendor/animate/animate.css\";\nimport \"./static/vendor/css-hamburgers/hamburgers.min.css\";\nimport \"./static/vendor/select2/select2.min.css\";\nimport \"./static/css/util.css\";\nimport \"./static/css/main.css\";\nimport GoogleLogin from 'react-google-login';\nimport {Button} from 'react-bootstrap';\nimport GoogleButton from 'react-google-button';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link,\n  Redirect,\n  Switch,\n  withRouter\n} from 'react-router-dom';\nimport Simplert from 'react-simplert';\nimport MainWelcome from '../Home/MainWelcome'\n\nclass LoginPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.googleSuccess = this.googleSuccess.bind(this);\n    this.googleFailure = this.googleFailure.bind(this);\n    this.onPwdChange = this.onPwdChange.bind(this);\n    this.onEmailChange = this.onEmailChange.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n\n    this.state = {\n      first_name: null,\n      last_name: null,\n      email: null,\n      password: null,\n      login_email: null\n    }\n  }\n\n  handleLogin(event) {\n      event.preventDefault();\n\n      let validInput = true;\n\n      let email=this.state.login_email;\n      let pwd=this.state.password;\n\n      {/* Check for valid email */}\n      if (!(new RegExp(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i).test(email))) {  \n        alert(\"Please enter a valid email address.\")\n        validInput = false;\n      }\n      \n      if (validInput) {\n        console.log(this.state);\n        let url = \"http://localhost:5000/login\";\n        fetch(url,\n        {\n                method: \"POST\",\n                body: JSON.stringify({\n                    email: email,\n                    password:pwd\n                })\n        }).then(\n            (response) => (response.json())\n        ).then((data) => {\n            {/*Successfully logged in*/}\n            if (data.success === true) {\n              {/*this.props.liftStateUp({\n                first_name:data.first_name,\n                last_name:data.last_name\n              });*/}\n              localStorage.setItem(data.token);\n                this.props.history.push({\n                    pathname: \"/\"\n                })\n            }\n            else {\n                //Handle error in login here.\n                alert(\"Email or password is incorrect.\")\n            }\n        })\n      }\n  }\n\n  onPwdChange(event) {\n    this.setState({password: event.target.value})\n  }\n  onEmailChange(event) {\n    this.setState({login_email:event.target.value})\n  }\n\n  googleSuccess(response) {\n    console.log(response);\n    const profile_obj = response.profileObj;\n    {/* Save user data to state. */ }\n    this.setState(\n      {\n        first_name: profile_obj.givenName,\n        last_name: profile_obj.familyName,\n        email: profile_obj.email\n      }\n    )\n    console.log(this.state);\n\n    this.props.liftStateUp(this.state);\n    { /* Route user back to homepage. */ }\n    this.props.history.push({\n        pathname: \"/\"\n      });\n  }\n\n  googleFailure(response) {\n    //console.log(response);\n    alert(\"Google Login failed. Please try again.\");\n    return (\n      ReactDOM.render(\n        <Simplert \n          showSimplert = {true}\n          type={\"warning\"}\n          title={\"Login Failed\"}\n          message={\"Please attempt login again.\"}\n        />\n          ,\n      document.getElementById(\"login-fail\")\n      )\n    \n    )\n  }\n\n  render () {\n    return (\n      \n      <div>\n        <div>\n          <title>Login V11</title>\n        </div>\n        <div id=\"login-fail\">\n\n        </div>\n        <div>\n          <div className=\"limiter\">\n            <div className=\"container-login100\">\n              <div className=\"wrap-login100 p-l-50 p-r-50 p-t-77 p-b-30\">\n                <form className=\"login100-form validate-form\">\n                  <span className=\"login100-form-title p-b-55\">\n                    Login to EasyA\n                  </span>\n\n                  {/* Email form */}\n                  <div className=\"wrap-input100 validate-input m-b-16\" data-validate=\"Valid email is required: ex@abc.xyz\">\n                    <input id=\"emailForm\" \n                      className=\"input100\" \n                      type=\"text\" \n                      name=\"email\" \n                      placeholder=\"Email\"\n                      onChange={this.onEmailChange} />\n\n                    <span className=\"focus-input100\" />\n                    <span className=\"symbol-input100\">\n                      <span className=\"lnr lnr-envelope\" />\n                    </span>\n                  </div>\n\n                  {/* Password Form */}\n                  <div className=\"wrap-input100 validate-input m-b-16\" data-validate=\"Password is required\">\n                    <input id=\"pwdForm\" \n                      className=\"input100\" \n                      type=\"password\" \n                      name=\"pass\" \n                      placeholder=\"Password\"\n                      onChange={this.onPwdChange} />\n                    <span className=\"focus-input100\" />\n                    <span className=\"symbol-input100\">\n                      <span className=\"lnr lnr-lock\" />\n                    </span>\n                  </div>\n\n                  <div className=\"contact100-form-checkbox m-l-4\">\n                    <input className=\"input-checkbox100\" id=\"ckb1\" type=\"checkbox\" name=\"remember-me\" />\n                    <label className=\"label-checkbox100\" htmlFor=\"ckb1\">\n                      Remember me\n                    </label>\n                  </div>\n                  <div className=\"container-login100-form-btn p-t-25\">\n                    <button \n                      onClick={this.handleLogin}\n                      className=\"login100-form-btn\">\n                      Login\n                    </button>\n                  </div>\n                  <div id=\"orLoginWith\" className=\"text-center w-full p-t-42 p-b-22\">\n                    <span className=\"txt1\">\n                      Or login with\n                    </span>\n                  </div>\n\n                  {/* Google Button goes here */ }\n                  \n                        {/*render={renderProps => (\n                          <GoogleButton type=\"light\" id=\"googleicon\"/>\n                        )}*/}\n                      {/*<Button\n                          id = \"googlesignInbutton\"\n                           onClick={renderProps.onClick} \n                           disabled={renderProps.disabled}>\n                             Sign in with Google\n                          </Button>*/}\n                  <div id=\"googleButton\">\n                    <GoogleLogin\n                        id = \"googleButtonB\"\n                        clientId=\"887022410797-hhdl5etksm3ob2m9fhhh05i9f81cond2.apps.googleusercontent.com\"\n                        render={renderProps => ( \n                          <GoogleButton \n                            id=\"googlesignInbutton\"\n                            type=\"light\"\n                            onClick={renderProps.onClick}/>\n                          \n                        )}\n                        buttonText=\"Login with Google\"\n                        onSuccess={this.googleSuccess}\n                        onFailure={this.googleFailure}\n                        cookiePolicy={'single_host_origin'}\n                    />\n                  </div>\n                \n                  <div className=\"text-center w-full p-t-30\">\n                    <span id=\"notamember\" className=\"txt1\">\n                      Not a member?\n                    </span>\n                    <a id=\"signUpNow\" className=\"txt1 bo1 hov1\" href=\"/signup\">\n                      Sign up now\t\t\t\t\t\t\t\n                    </a>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default withRouter(LoginPage);"]},"metadata":{},"sourceType":"module"}