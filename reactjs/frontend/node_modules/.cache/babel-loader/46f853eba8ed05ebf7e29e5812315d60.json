{"ast":null,"code":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'react-dom', '../SAlertContent', './s-alert-store', './s-alert-tools'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('react-dom'), require('../SAlertContent'), require('./s-alert-store'), require('./s-alert-tools'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.reactDom, global.SAlertContent, global.sAlertStore, global.sAlertTools);\n    global.sAlertDataPrep = mod.exports;\n  }\n})(this, function (exports, _react, _reactDom, _SAlertContent, _sAlertStore, _sAlertTools) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _reactDom2 = _interopRequireDefault(_reactDom);\n\n  var _SAlertContent2 = _interopRequireDefault(_SAlertContent);\n\n  var _sAlertStore2 = _interopRequireDefault(_sAlertStore);\n\n  var _sAlertTools2 = _interopRequireDefault(_sAlertTools);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var getAlertData = function getAlertData(sAlertPosition, parentComponent) {\n    var positionTop = 0;\n    var positionBottom = 0;\n    var padding = 0;\n    var alerts = {};\n    var style = void 0;\n    var docElement = void 0;\n    var sAlertBoxHeight = void 0;\n    var positionTypeTop = void 0;\n    var positionTypeBottom = void 0;\n\n    var checkFirst = function checkFirst(type, objId) {\n      var collectionOfType = sAlertCollection.filter(function (obj) {\n        return obj.position === type || sAlertGlobalConfig.position === type;\n      });\n      return collectionOfType && collectionOfType[0].id === objId;\n    };\n\n    var positionFunc = function positionFunc(position, positionType, alert, docElement, sAlertBoxHeight, reactComponent) {\n      padding = aStack.spacing || parseInt(getComputedStyle(_reactDom2.default.findDOMNode(reactComponent))[positionType]);\n\n      if (checkFirst(aPosition, alert.id) && aOffset) {\n        position = 0;\n        position = position + parseInt(aOffset);\n      }\n\n      if (checkFirst(aPosition, alert.id) && aStack.spacing) {\n        position = position;\n      } else {\n        position = position + parseInt(padding);\n      }\n\n      style = positionType + ': ' + position + 'px;';\n      position = position + sAlertBoxHeight;\n      return position;\n    };\n\n    var sAlertGlobalConfig = _sAlertTools2.default.getGlobalConfig();\n\n    var aStack = void 0;\n    var aContentTemplate = void 0;\n    var aOffset = void 0;\n    var aMessage = void 0;\n    var aHtml = void 0;\n    var aCustomFields = void 0;\n    var aPosition = void 0;\n    var preserveContext = void 0;\n    var query = {};\n\n    if (sAlertPosition === 'left') {\n      query = function query(item) {\n        return item.position === 'top-left' || item.position === 'bottom-left' || !item.position && (sAlertGlobalConfig.position === 'top-left' || sAlertGlobalConfig.position === 'bottom-left');\n      };\n    }\n\n    if (sAlertPosition === 'right') {\n      query = function query(item) {\n        return item.position === 'top-right' || item.position === 'bottom-right' || !item.position && (sAlertGlobalConfig.position === 'top-right' || sAlertGlobalConfig.position === 'bottom-right');\n      };\n    }\n\n    if (sAlertPosition === 'full-top') {\n      query = function query(item) {\n        return item.position === 'top' || !item.position && sAlertGlobalConfig.position === 'top';\n      };\n    }\n\n    if (sAlertPosition === 'full-bottom') {\n      query = function query(item) {\n        return item.position === 'bottom' || !item.position && sAlertGlobalConfig.position === 'bottom';\n      };\n    }\n\n    var currentState = _sAlertStore2.default.getState();\n\n    var sAlertCollection = currentState.slice().filter(query);\n    return sAlertCollection.map(function (alert) {\n      aStack = sAlertGlobalConfig.stack;\n      aContentTemplate = sAlertGlobalConfig.contentTemplate;\n      aOffset = _sAlertTools2.default.returnFirstDefined(alert.offset, sAlertGlobalConfig.offset);\n      aMessage = _sAlertTools2.default.returnFirstDefined(alert.message, sAlertGlobalConfig.message);\n      aHtml = _sAlertTools2.default.returnFirstDefined(alert.html, sAlertGlobalConfig.html);\n      aCustomFields = _sAlertTools2.default.returnFirstDefined(alert.customFields, sAlertGlobalConfig.customFields);\n      aPosition = _sAlertTools2.default.returnFirstDefined(alert.position, sAlertGlobalConfig.position);\n      preserveContext = _sAlertTools2.default.returnFirstDefined(alert.preserveContext, sAlertGlobalConfig.preserveContext);\n      positionTypeTop = aPosition && /top/g.test(aPosition);\n      positionTypeBottom = aPosition && /bottom/g.test(aPosition);\n\n      if (aStack) {\n        // checking alert box height - needed to calculate position\n        docElement = document.createElement('div');\n        docElement.classList.add('s-alert-box-height'); // mock element, needed for positions calculations\n\n        var reactElement = _react2.default.createElement(_SAlertContent2.default, {\n          key: _sAlertTools2.default.randomId(),\n          id: _sAlertTools2.default.randomId(),\n          condition: alert.condition,\n          message: aMessage,\n          position: aPosition,\n          effect: alert.effect,\n          boxPosition: alert.boxPosition,\n          beep: false,\n          timeout: 'none',\n          html: aHtml,\n          contentTemplate: aContentTemplate,\n          customFields: aCustomFields\n        });\n\n        var reactComponent = void 0;\n\n        if (preserveContext) {\n          reactComponent = _reactDom2.default.unstable_renderSubtreeIntoContainer(parentComponent, reactElement, docElement);\n        } else {\n          reactComponent = _reactDom2.default.render(reactElement, docElement);\n        }\n\n        document.body.appendChild(docElement);\n        sAlertBoxHeight = parseInt(getComputedStyle(_reactDom2.default.findDOMNode(reactComponent))['height']);\n\n        if (positionTypeTop) {\n          positionTop = positionFunc(positionTop, 'top', alert, docElement, sAlertBoxHeight, reactComponent);\n        }\n\n        if (positionTypeBottom) {\n          positionBottom = positionFunc(positionBottom, 'bottom', alert, docElement, sAlertBoxHeight, reactComponent);\n        }\n\n        var sAlertComputedStyle = getComputedStyle(_reactDom2.default.findDOMNode(reactComponent));\n\n        if (sAlertPosition === 'left') {\n          style = style + 'left: ' + (aStack.spacing || parseInt(sAlertComputedStyle.left)) + 'px;';\n        }\n\n        if (sAlertPosition === 'right') {\n          style = style + 'right: ' + (aStack.spacing || parseInt(sAlertComputedStyle.right)) + 'px;';\n        }\n\n        alerts = _extends({}, alert, {\n          boxPosition: style\n        });\n\n        _reactDom2.default.unmountComponentAtNode(docElement);\n\n        docElement.parentNode.removeChild(docElement);\n      } else if (aOffset && positionTypeTop) {\n        alerts = _extends({}, alert, {\n          boxPosition: 'top: ' + parseInt(aOffset) + 'px;'\n        });\n      } else if (aOffset && positionTypeBottom) {\n        alerts = _extends({}, alert, {\n          boxPosition: 'bottom: ' + parseInt(aOffset) + 'px;'\n        });\n      } else {\n        alerts = alert;\n      }\n\n      return alerts;\n    });\n  };\n\n  exports.default = getAlertData;\n});","map":{"version":3,"sources":["/home/iiradia/EasyA/reactjs/frontend/node_modules/react-s-alert/dist/s-alert-parts/s-alert-data-prep.js"],"names":["global","factory","define","amd","exports","require","mod","react","reactDom","SAlertContent","sAlertStore","sAlertTools","sAlertDataPrep","_react","_reactDom","_SAlertContent","_sAlertStore","_sAlertTools","Object","defineProperty","value","_react2","_interopRequireDefault","_reactDom2","_SAlertContent2","_sAlertStore2","_sAlertTools2","obj","__esModule","default","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","getAlertData","sAlertPosition","parentComponent","positionTop","positionBottom","padding","alerts","style","docElement","sAlertBoxHeight","positionTypeTop","positionTypeBottom","checkFirst","type","objId","collectionOfType","sAlertCollection","filter","position","sAlertGlobalConfig","id","positionFunc","positionType","alert","reactComponent","aStack","spacing","parseInt","getComputedStyle","findDOMNode","aPosition","aOffset","getGlobalConfig","aContentTemplate","aMessage","aHtml","aCustomFields","preserveContext","query","item","currentState","getState","slice","map","stack","contentTemplate","returnFirstDefined","offset","message","html","customFields","test","document","createElement","classList","add","reactElement","randomId","condition","effect","boxPosition","beep","timeout","unstable_renderSubtreeIntoContainer","render","body","appendChild","sAlertComputedStyle","left","right","unmountComponentAtNode","parentNode","removeChild"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['exports', 'react', 'react-dom', '../SAlertContent', './s-alert-store', './s-alert-tools'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(exports, require('react'), require('react-dom'), require('../SAlertContent'), require('./s-alert-store'), require('./s-alert-tools'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports, global.react, global.reactDom, global.SAlertContent, global.sAlertStore, global.sAlertTools);\n        global.sAlertDataPrep = mod.exports;\n    }\n})(this, function (exports, _react, _reactDom, _SAlertContent, _sAlertStore, _sAlertTools) {\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n        value: true\n    });\n\n    var _react2 = _interopRequireDefault(_react);\n\n    var _reactDom2 = _interopRequireDefault(_reactDom);\n\n    var _SAlertContent2 = _interopRequireDefault(_SAlertContent);\n\n    var _sAlertStore2 = _interopRequireDefault(_sAlertStore);\n\n    var _sAlertTools2 = _interopRequireDefault(_sAlertTools);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n\n        return target;\n    };\n\n    var getAlertData = function getAlertData(sAlertPosition, parentComponent) {\n        var positionTop = 0;\n        var positionBottom = 0;\n        var padding = 0;\n        var alerts = {};\n        var style = void 0;\n        var docElement = void 0;\n        var sAlertBoxHeight = void 0;\n        var positionTypeTop = void 0;\n        var positionTypeBottom = void 0;\n        var checkFirst = function checkFirst(type, objId) {\n            var collectionOfType = sAlertCollection.filter(function (obj) {\n                return obj.position === type || sAlertGlobalConfig.position === type;\n            });\n            return collectionOfType && collectionOfType[0].id === objId;\n        };\n        var positionFunc = function positionFunc(position, positionType, alert, docElement, sAlertBoxHeight, reactComponent) {\n            padding = aStack.spacing || parseInt(getComputedStyle(_reactDom2.default.findDOMNode(reactComponent))[positionType]);\n            if (checkFirst(aPosition, alert.id) && aOffset) {\n                position = 0;\n                position = position + parseInt(aOffset);\n            }\n            if (checkFirst(aPosition, alert.id) && aStack.spacing) {\n                position = position;\n            } else {\n                position = position + parseInt(padding);\n            }\n            style = positionType + ': ' + position + 'px;';\n            position = position + sAlertBoxHeight;\n            return position;\n        };\n\n        var sAlertGlobalConfig = _sAlertTools2.default.getGlobalConfig();\n        var aStack = void 0;\n        var aContentTemplate = void 0;\n        var aOffset = void 0;\n        var aMessage = void 0;\n        var aHtml = void 0;\n        var aCustomFields = void 0;\n        var aPosition = void 0;\n        var preserveContext = void 0;\n\n        var query = {};\n        if (sAlertPosition === 'left') {\n            query = function query(item) {\n                return item.position === 'top-left' || item.position === 'bottom-left' || !item.position && (sAlertGlobalConfig.position === 'top-left' || sAlertGlobalConfig.position === 'bottom-left');\n            };\n        }\n        if (sAlertPosition === 'right') {\n            query = function query(item) {\n                return item.position === 'top-right' || item.position === 'bottom-right' || !item.position && (sAlertGlobalConfig.position === 'top-right' || sAlertGlobalConfig.position === 'bottom-right');\n            };\n        }\n        if (sAlertPosition === 'full-top') {\n            query = function query(item) {\n                return item.position === 'top' || !item.position && sAlertGlobalConfig.position === 'top';\n            };\n        }\n        if (sAlertPosition === 'full-bottom') {\n            query = function query(item) {\n                return item.position === 'bottom' || !item.position && sAlertGlobalConfig.position === 'bottom';\n            };\n        }\n\n        var currentState = _sAlertStore2.default.getState();\n        var sAlertCollection = currentState.slice().filter(query);\n\n        return sAlertCollection.map(function (alert) {\n            aStack = sAlertGlobalConfig.stack;\n            aContentTemplate = sAlertGlobalConfig.contentTemplate;\n            aOffset = _sAlertTools2.default.returnFirstDefined(alert.offset, sAlertGlobalConfig.offset);\n            aMessage = _sAlertTools2.default.returnFirstDefined(alert.message, sAlertGlobalConfig.message);\n            aHtml = _sAlertTools2.default.returnFirstDefined(alert.html, sAlertGlobalConfig.html);\n            aCustomFields = _sAlertTools2.default.returnFirstDefined(alert.customFields, sAlertGlobalConfig.customFields);\n            aPosition = _sAlertTools2.default.returnFirstDefined(alert.position, sAlertGlobalConfig.position);\n            preserveContext = _sAlertTools2.default.returnFirstDefined(alert.preserveContext, sAlertGlobalConfig.preserveContext);\n            positionTypeTop = aPosition && /top/g.test(aPosition);\n            positionTypeBottom = aPosition && /bottom/g.test(aPosition);\n\n            if (aStack) {\n                // checking alert box height - needed to calculate position\n                docElement = document.createElement('div');\n                docElement.classList.add('s-alert-box-height');\n\n                // mock element, needed for positions calculations\n                var reactElement = _react2.default.createElement(_SAlertContent2.default, {\n                    key: _sAlertTools2.default.randomId(),\n                    id: _sAlertTools2.default.randomId(),\n                    condition: alert.condition,\n                    message: aMessage,\n                    position: aPosition,\n                    effect: alert.effect,\n                    boxPosition: alert.boxPosition,\n                    beep: false,\n                    timeout: 'none',\n                    html: aHtml,\n                    contentTemplate: aContentTemplate,\n                    customFields: aCustomFields\n                });\n\n                var reactComponent = void 0;\n\n                if (preserveContext) {\n                    reactComponent = _reactDom2.default.unstable_renderSubtreeIntoContainer(parentComponent, reactElement, docElement);\n                } else {\n                    reactComponent = _reactDom2.default.render(reactElement, docElement);\n                }\n\n                document.body.appendChild(docElement);\n                sAlertBoxHeight = parseInt(getComputedStyle(_reactDom2.default.findDOMNode(reactComponent))['height']);\n                if (positionTypeTop) {\n                    positionTop = positionFunc(positionTop, 'top', alert, docElement, sAlertBoxHeight, reactComponent);\n                }\n                if (positionTypeBottom) {\n                    positionBottom = positionFunc(positionBottom, 'bottom', alert, docElement, sAlertBoxHeight, reactComponent);\n                }\n                var sAlertComputedStyle = getComputedStyle(_reactDom2.default.findDOMNode(reactComponent));\n                if (sAlertPosition === 'left') {\n                    style = style + 'left: ' + (aStack.spacing || parseInt(sAlertComputedStyle.left)) + 'px;';\n                }\n                if (sAlertPosition === 'right') {\n                    style = style + 'right: ' + (aStack.spacing || parseInt(sAlertComputedStyle.right)) + 'px;';\n                }\n                alerts = _extends({}, alert, { boxPosition: style });\n                _reactDom2.default.unmountComponentAtNode(docElement);\n                docElement.parentNode.removeChild(docElement);\n            } else if (aOffset && positionTypeTop) {\n                alerts = _extends({}, alert, { boxPosition: 'top: ' + parseInt(aOffset) + 'px;' });\n            } else if (aOffset && positionTypeBottom) {\n                alerts = _extends({}, alert, { boxPosition: 'bottom: ' + parseInt(aOffset) + 'px;' });\n            } else {\n                alerts = alert;\n            }\n            return alerts;\n        });\n    };\n\n    exports.default = getAlertData;\n});"]},"metadata":{},"sourceType":"script"}