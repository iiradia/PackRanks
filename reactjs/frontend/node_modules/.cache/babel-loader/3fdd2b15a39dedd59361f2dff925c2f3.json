{"ast":null,"code":"var _jsxFileName = \"/home/iiradia/EasyA/reactjs/frontend/src/components/Wishlist/Wishlist.jsx\";\n//imports\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Table from '../Home/Table';\nimport jwt from 'jwt-decode';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport './wishlist.css';\n\nclass Wishlist extends React.Component {\n  constructor() {\n    super();\n    this.removeCourses = this.removeCourses.bind(this);\n    this.viewWishlist();\n  }\n\n  removeCourses() {\n    //set courses to delete to selected courses\n    let cToDelete = JSON.parse(localStorage.getItem(\"checkedCourses\")); //filter out courses that should be removed from array \n\n    let newCourses = this.state.courses.filter(({\n      Course,\n      Semester,\n      Section\n    }) => !cToDelete.some(exclude => exclude.Course[0] === Course[0] && exclude.Semester === Semester && exclude.Section === Section));\n    console.log(newCourses); //reset checked courses\n\n    localStorage.setItem(\"checkedCourses\", JSON.stringify([])); //update db with call to API\n\n    let url = \"http://localhost:5000/resetWishlist\";\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify({\n        wishlist: newCourses,\n        token: localStorage.token\n      })\n    }).then(response => response.json());\n    ReactDOM.render( /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }), document.getElementById(\"wishlist\")); //render new table\n\n    if (newCourses.length > 0) {\n      ReactDOM.render( /*#__PURE__*/React.createElement(Table, {\n        data: newCourses,\n        type: \"homepage\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 29\n        }\n      }), document.getElementById('delWish'));\n    } else {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 29\n        }\n      }), document.getElementById(\"delWish\"));\n    }\n  }\n\n  viewWishlist() {\n    const UserPage = this;\n    let url = \"http://localhost:5000/viewWishlist\";\n    fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"token\": localStorage.token\n      }\n    }).then(response => response.json()).then(data => this.setState({\n      courses: data\n    }, () => {\n      console.log(\"HELLO\");\n\n      if (JSON.stringify(data).length > 0) {\n        Object.keys(data).forEach(function (key) {\n          ReactDOM.render( /*#__PURE__*/React.createElement(\"h3\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 41\n            }\n          }));\n          ReactDOM.render( /*#__PURE__*/React.createElement(Table, {\n            data: data[key],\n            type: \"homepage\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 41\n            }\n          }), document.getElementById('wishlist'));\n          console.log(key);\n        });\n      }\n      /*if (data.length > 0) {\n          console.log(\"DATA\")\n          console.log(data);\n          for (var i = 0; i < data.length; i++) {\n              console.log(data[i]);\n          }\n          //ReactDOM.render(<Table data={this.state.courses} type=\"homepage\" />, document.getElementById('wishlist'))\n      }*/\n\n    }));\n  }\n\n  render() {\n    let identity = jwt(localStorage.token).identity;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      id: \"welcome\",\n      className: \"mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 51\n      }\n    }, identity.first_name, \"'s\"), \" Wishlist\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"backtohomepage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/homepage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"btn btn-danger\",\n      id: \"backtohmpg\",\n      name: \"backtohmpg\",\n      size: \"lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }, \"Back\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"termName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"wishlist\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"delWish\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"deleteItems\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"btn btn-danger\",\n      id: \"delWishlist\",\n      name: \"delWishlist\",\n      size: \"lg\",\n      onClick: this.removeCourses,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, \"Delete Selected Rows from Wishlist\")));\n  }\n\n}\n\nexport default Wishlist;","map":{"version":3,"sources":["/home/iiradia/EasyA/reactjs/frontend/src/components/Wishlist/Wishlist.jsx"],"names":["React","ReactDOM","Table","jwt","Link","Button","Wishlist","Component","constructor","removeCourses","bind","viewWishlist","cToDelete","JSON","parse","localStorage","getItem","newCourses","state","courses","filter","Course","Semester","Section","some","exclude","console","log","setItem","stringify","url","fetch","method","body","wishlist","token","then","response","json","render","document","getElementById","length","UserPage","headers","data","setState","Object","keys","forEach","key","identity","first_name"],"mappings":"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","sourcesContent":["//imports\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Table from '../Home/Table';\nimport jwt from 'jwt-decode';\nimport {Link} from 'react-router-dom';\nimport {Button} from 'react-bootstrap';\nimport './wishlist.css';\n\nclass Wishlist extends React.Component {\n\n    constructor() {\n        super();\n        \n        this.removeCourses = this.removeCourses.bind(this);\n\n        this.viewWishlist();\n    }\n\n    removeCourses() {\n        //set courses to delete to selected courses\n        let cToDelete = JSON.parse(localStorage.getItem(\"checkedCourses\"))\n        //filter out courses that should be removed from array \n        let newCourses = this.state.courses.filter(({Course, Semester, Section}) =>\n            !cToDelete.some(exclude => exclude.Course[0] === Course[0] &&exclude.Semester===Semester&&exclude.Section===Section)\n        );\n        console.log(newCourses);\n        //reset checked courses\n        localStorage.setItem(\"checkedCourses\", JSON.stringify([]));\n        //update db with call to API\n        let url = \"http://localhost:5000/resetWishlist\"\n        fetch( \n            url, {\n                method: \"POST\",\n                body: JSON.stringify(\n                    {wishlist:newCourses,\n                    token: localStorage.token\n                    }\n                )\n            }\n        ).then(\n        response => response.json()\n        )\n        ReactDOM.render(<p></p>, document.getElementById(\"wishlist\"))\n        //render new table\n        if (newCourses.length > 0) {\n            ReactDOM.render(<Table data={newCourses} type=\"homepage\" />, document.getElementById('delWish'))\n        }\n        else {\n            ReactDOM.render(<p></p>, document.getElementById(\"delWish\"))\n        }\n    }\n\n    viewWishlist() {\n        const UserPage = this;\n        let url = \"http://localhost:5000/viewWishlist\";\n        fetch( \n            url, {\n                method: \"GET\",\n                headers: {\"token\": localStorage.token }\n            }\n        ).then(\n        response => response.json()\n        ).then(\n            data => this.setState({\n                courses: data\n            },\n            () => {\n                console.log(\"HELLO\")\n                if (JSON.stringify(data).length > 0) {\n                    Object.keys(data).forEach(function(key) {\n                        ReactDOM.render(<h3></h3>)\n                        ReactDOM.render(<Table data={data[key]} type=\"homepage\" />, document.getElementById('wishlist'))\n                        console.log(key);\n                    });\n                }\n                /*if (data.length > 0) {\n                    console.log(\"DATA\")\n                    console.log(data);\n                    for (var i = 0; i < data.length; i++) {\n                        console.log(data[i]);\n                    }\n                    //ReactDOM.render(<Table data={this.state.courses} type=\"homepage\" />, document.getElementById('wishlist'))\n                }*/\n            }\n            )\n        )\n    }\n\n    render() {\n        let identity = jwt(localStorage.token).identity;\n        return (\n            <div>\n                <h1 id=\"welcome\" className=\"mt-5\"><strong>{identity.first_name}'s</strong> Wishlist</h1>\n                \n                <div id=\"backtohomepage\">\n                        {/* Added link to wishlist */}\n                        <Link to=\"/homepage\">\n                            <Button\n                            className=\"btn btn-danger\" \n                                    id=\"backtohmpg\" \n                                    name=\"backtohmpg\" \n                                    size=\"lg\">\n                                Back\n                            </Button>\n                        </Link>\n                </div>\n\n                <div id=\"termName\">\n\n                </div>\n                <div id=\"wishlist\">\n\n                </div>\n\n                <div id=\"delWish\">\n\n                </div>\n\n                <div id=\"deleteItems\">\n                        {/* Added delete wishlist course functionality. */}\n                        <Button\n                            className=\"btn btn-danger\" \n                            id=\"delWishlist\"\n                            name=\"delWishlist\" \n                            size=\"lg\"\n                            onClick={this.removeCourses}>\n                            Delete Selected Rows from Wishlist\n                        </Button>\n                </div>\n\n            </div>\n        )\n    }\n}\nexport default Wishlist;"]},"metadata":{},"sourceType":"module"}